syntax = "proto3";

package v1;

option go_package = "../../../internal/proto";

message SendTextMessageReq {
  string phone = 1;
}
message SendTextMessageResp {}

message RegisterReq {
  string phone = 1;
  string verificationCode = 2;
  string password = 3;
}
message RegisterResp {
  int64 id = 1;
}

message LoginReq {
  string phone = 1;
  string password = 2;
  string verificationCode = 3;
}
message LoginResp {
  int64 id = 1;
}

message ForgotPasswordReq {
  string phone = 1;
  string verificationCode = 2;
  string password = 3;
  string confirmPassword = 4;
}
message ForgotPasswordResp {}

message CompleteInformationReq {
  int64 userId = 1;
  string cover = 2;
  string nickname = 3;
  string sex = 4;
  string realName = 5;
  string idCard = 6;
  string birthdayTime = 7;
  string idCardFrontUrl = 8;
}
message CompleteInformationResp {}

message StudentVerificationReq {
  int64 userId = 1;
  string realName = 2;
  string schoolName = 3;
  string studentId = 4;
  string enrollmentYear = 5;
  string studentIdPhoto = 6;
}
message StudentVerificationResp {}

message PersonalCenterReq {
  int64 userId = 1;
}
message PersonalCenterResp {
  string phone = 1;
  string cover = 2;
  string nickname = 3;
  string sex = 4;
  string birthdayTime = 5;
}

message LogoutReq {
  int64 userId = 1;
}
message LogoutResp {}
service User {
  rpc SendTextMessage(SendTextMessageReq) returns(SendTextMessageResp);//短信发送
  rpc Register(RegisterReq) returns(RegisterResp);//注册(自动登录)
  rpc Login(LoginReq) returns(LoginResp);//登录
  rpc ForgotPassword(ForgotPasswordReq) returns(ForgotPasswordResp);//修改密码
  rpc CompleteInformation(CompleteInformationReq) returns(CompleteInformationResp);//完善信息(身份证的绑定)
  rpc StudentVerification(StudentVerificationReq) returns(StudentVerificationResp);//学生认证
  rpc PersonalCenter(PersonalCenterReq) returns(PersonalCenterResp);//个人中心
  rpc Logout(LogoutReq) returns(LogoutResp);//账号注销
}